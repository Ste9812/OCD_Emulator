Version 4
SHEET 1 2244 884
WIRE -1040 -464 -1040 -528
WIRE -928 -464 -1040 -464
WIRE -736 -464 -736 -528
WIRE -736 -464 -848 -464
WIRE -1040 -368 -1040 -464
WIRE -736 -352 -736 -464
WIRE -1040 -176 -1040 -288
WIRE -736 -176 -736 -272
WIRE -736 -176 -1040 -176
WIRE -256 -176 -432 -176
WIRE 0 -176 -176 -176
WIRE -1040 -144 -1040 -176
WIRE 0 -96 0 -176
WIRE -736 48 -800 48
WIRE -560 48 -656 48
WIRE -432 48 -432 -176
WIRE -432 48 -496 48
WIRE -256 48 -432 48
WIRE 0 48 0 -16
WIRE 0 48 -192 48
WIRE -240 272 -240 192
WIRE -432 288 -432 48
WIRE -272 288 -432 288
WIRE 0 304 0 48
WIRE 0 304 -208 304
WIRE 64 304 0 304
WIRE 240 304 144 304
WIRE 432 304 240 304
WIRE 640 304 432 304
WIRE 768 304 640 304
WIRE 960 304 848 304
WIRE 1184 304 1040 304
WIRE 1232 304 1184 304
WIRE -848 320 -1152 320
WIRE -736 320 -848 320
WIRE -576 320 -672 320
WIRE -400 320 -496 320
WIRE -272 320 -400 320
WIRE 640 352 640 304
WIRE 432 368 432 304
WIRE 432 368 336 368
WIRE -240 416 -240 336
WIRE 432 416 432 368
WIRE -1152 432 -1152 320
WIRE -848 432 -848 320
WIRE -400 432 -400 320
WIRE 240 432 240 304
WIRE 1184 432 1184 304
WIRE 336 496 336 368
WIRE 384 496 336 496
WIRE 640 496 640 416
WIRE 752 512 688 512
WIRE 1184 624 1184 512
WIRE -1152 656 -1152 512
WIRE -848 656 -848 512
WIRE -848 656 -1152 656
WIRE -400 656 -400 512
WIRE 240 656 240 496
WIRE 432 656 432 512
WIRE 432 656 240 656
WIRE 640 656 640 592
WIRE 640 656 432 656
WIRE 752 656 752 512
WIRE 752 656 640 656
WIRE -1152 688 -1152 656
WIRE 432 688 432 656
FLAG -1040 -528 Vs
FLAG -1040 -144 0
FLAG -736 -528 Vb
FLAG -400 656 Vb
FLAG -240 416 0
FLAG -1152 688 0
FLAG -800 48 0
FLAG 432 688 Vb
FLAG -240 192 Vs
FLAG 1184 624 0
FLAG 1232 304 OUT
SYMBOL Misc\\battery -1040 -384 R0
SYMATTR InstName Vbatt
SYMATTR Value 9
SYMBOL res -832 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res -752 -368 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL voltage -1152 416 R0
SYMATTR InstName Vin
SYMATTR Value wavefile=clean_sc.wav
SYMBOL res -480 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap -672 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 22n
SYMBOL res -864 416 R0
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL res -416 416 R0
SYMATTR InstName R3
SYMATTR Value 470k
SYMBOL OpAmps\\opamp2 -240 240 R0
SYMATTR InstName OPA1
SYMATTR Value TL082
SYMBOL cap -192 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 220p
SYMBOL res -16 -112 R0
SYMATTR InstName R4
SYMATTR Value 18k
SYMBOL cap -496 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 68n
SYMBOL res -640 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 2.2k
SYMBOL res 160 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL cap 224 432 R0
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL diode 624 352 R0
SYMATTR InstName D2
SYMATTR Value 1N34A
SYMBOL nmos 384 416 R0
SYMATTR InstName Q1
SYMATTR Value 2N7000
SYMBOL nmos 688 592 R180
SYMATTR InstName Q2
SYMATTR Value 2N7000
SYMBOL res 1056 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res -272 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName P1
SYMATTR Value R=Rd*(A*pow(B,x_aux)+C)+tol
SYMBOL voltage 752 304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName Vaux
SYMATTR Value 4.5
SYMBOL res 1168 416 R0
SYMATTR InstName Raux
SYMATTR Value 10k
TEXT -520 -480 Left 2 !.include TL082.txt
TEXT -512 -328 Left 2 !.tran 427s
TEXT -520 -448 Left 2 !.model 1N34A D(Is=2.6u Rs=6.5 N=1.6 Cjo=.8p Eg=.67 Bv=25 Ibv=3m type=GePunctualContact)
TEXT -520 -416 Left 2 !.model 2N7000 VDMOS(Rg=3 Vto=1.6 Rd=0 Rs=.75 Rb=.14 Kp=.17 mtriode=1.25 Cgdmax=80p Cgdmin=12p Cgs=50p Cjo=50p Is=.04p Vds=60 Ron=2 Qg=1.5n)
TEXT -512 -296 Left 2 !.wave "distorted{x_aux}.wav" 16 48k V(OUT)
TEXT 184 -296 Left 2 !.step param x_aux 0 1 0.1
TEXT 184 -328 Left 2 !.param A=12.5m B=81 C=-12.5m Rd=500k tol=1u
